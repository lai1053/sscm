(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8390"],{XfES:function(e,t,a){},oDHn:function(e,t,a){"use strict";var i=a("XfES");a.n(i).a},uWBs:function(e,t,a){"use strict";a.r(t);var i=a("jWXv"),r=a.n(i),n=a("rfXi"),l=a.n(n),o=a("t3Un");var s=a("7Dod"),d=a("ZoMv"),c={name:"OceanengineCustomerOwner",data:function(){return{filters:{crmCustomerName:"",ownerName:"",advertiserId:""},list:[],loading:!1,pagination:{page:1,limit:10,total:0},dialog:{visible:!1,loading:!1,form:{id:null,ownerName:"",crmCustomerId:"",crmCustomerName:"",channel:"ADS"},rules:{crmCustomerId:[{required:!0,message:"请选择CRM客户",trigger:"change"}]}},customerPicker:{visible:!1,loading:!1,list:[],filters:{search:""},pagination:{page:1,limit:10,total:0}},drawer:{visible:!1,ownerId:null,ownerName:"",crmCustomerId:null,crmCustomerName:"",boundAllList:[],boundList:[],boundLoading:!1,boundSelection:[],boundPagination:{page:1,limit:10,total:0},availableAllList:[],availableList:[],availableLoading:!1,availableSelection:[],availablePagination:{page:1,limit:10,total:0},availableFilters:{kw:"",advertiserId:"",limit:200},actionLoading:!1}}},created:function(){this.fetchList()},methods:{fetchList:function(){var e=this;return this.loading=!0,function(e){return Object(o.a)({url:"/adminApi/qc/oe/owner/page",method:"get",params:e})}({page:this.pagination.page,limit:this.pagination.limit,crmCustomerName:this.filters.crmCustomerName||void 0,ownerName:this.filters.ownerName||void 0,advertiserId:this.filters.advertiserId||void 0}).then(function(t){var a=t.data||{};e.list=a.list||[],e.pagination.total=a.totalRow||0}).catch(function(){e.list=[],e.pagination.total=0}).finally(function(){e.loading=!1})},handleSearch:function(){this.pagination.page=1,this.fetchList()},handleReset:function(){this.filters={crmCustomerName:"",ownerName:"",advertiserId:""},this.pagination.page=1,this.fetchList()},handlePageChange:function(e){this.pagination.page=e,this.fetchList()},indexMethod:function(e){return(this.pagination.page-1)*this.pagination.limit+e+1},formatChannel:function(e){return e||"ADS"},openCreate:function(){this.resetDialogForm(),this.dialog.visible=!0},openEdit:function(e){this.resetDialogForm(),this.dialog.form.id=e.id,this.dialog.form.ownerName=e.ownerName||"",this.dialog.form.crmCustomerId=e.crmCustomerId||"",this.dialog.form.crmCustomerName=e.crmCustomerName||"",this.dialog.form.channel="ADS",this.dialog.visible=!0},handleDelete:function(e){var t=this;e&&e.id&&this.$confirm("确认删除该客户归属吗？（CRM 客户："+(e.crmCustomerName||e.crmCustomerId||"-")+"，归属名称："+((e.ownerName||"").trim()||"默认归属")+"）","提示",{type:"warning"}).then(function(){var a;t.loading=!0,(a=e.id,Object(o.a)({url:"/adminApi/qc/oe/owner/delete/"+a,method:"post"})).then(function(){t.$message.success("删除成功"),t.fetchList()}).finally(function(){t.loading=!1})}).catch(function(){})},resetDialogForm:function(){this.dialog.form={id:null,ownerName:"",crmCustomerId:"",crmCustomerName:"",channel:"ADS"},this.$refs.ownerForm&&this.$refs.ownerForm.clearValidate()},handleDialogClose:function(){var e=!!this.dialog.form.id;this.resetDialogForm(),e&&this.fetchList()},handleSave:function(){var e=this;this.$refs.ownerForm.validate(function(t){if(t){var a=Number(e.dialog.form.crmCustomerId);if(isNaN(a)||a<=0)e.$message.error("请选择正确的CRM客户");else{var i=!e.dialog.form.id;e.dialog.loading=!0;var r,n=(e.dialog.form.ownerName||"").trim(),l={id:e.dialog.form.id||void 0,ownerName:n||void 0,crmCustomerId:a,channel:e.dialog.form.channel||"ADS"};(r=l,Object(o.a)({url:"/adminApi/qc/oe/owner/save",method:"post",data:r,headers:{"Content-Type":"application/json;charset=UTF-8"}})).then(function(t){var a=t&&t.data;e.$message.success("保存成功"),e.dialog.visible=!1,i?e.fetchList().then(function(){var t=e.list.find(function(e){return String(e.id)===String(a)});t&&e.openAdvertiserDrawer(t)}):e.fetchList()}).finally(function(){e.dialog.loading=!1})}}})},openCustomerPicker:function(){this.customerPicker.visible=!0,this.customerPicker.pagination.page=1,this.loadCustomerPickerList()},handleCustomerPickerSearch:function(){this.customerPicker.pagination.page=1,this.loadCustomerPickerList()},handleCustomerPickerReset:function(){this.customerPicker.filters.search="",this.customerPicker.pagination.page=1,this.loadCustomerPickerList()},handleCustomerPickerPageChange:function(e){this.customerPicker.pagination.page=e,this.loadCustomerPickerList()},handleCustomerPickerClose:function(){this.customerPicker.visible=!1},loadCustomerPickerList:function(){var e=this;this.customerPicker.loading=!0;var t={page:this.customerPicker.pagination.page,limit:this.customerPicker.pagination.limit,search:this.customerPicker.filters.search||"",type:d.a.customer};Object(s.k)(t).then(function(t){var a=t.data||{};e.customerPicker.list=a.list||[],e.customerPicker.pagination.total=a.totalRow||0}).catch(function(){e.customerPicker.list=[],e.customerPicker.pagination.total=0}).finally(function(){e.customerPicker.loading=!1})},handlePickCustomer:function(e){if(e&&!1===e.canBindOeOwner)this.$message.warning("该客户已绑定归属，不可选择");else{var t=this.getCrmCustomerId(e);t?(this.dialog.form.crmCustomerId=t,this.dialog.form.crmCustomerName=this.getCrmCustomerName(e),this.$refs.ownerForm&&this.$refs.ownerForm.clearValidate(["crmCustomerId"]),this.customerPicker.visible=!1):this.$message.error("未获取到客户ID")}},openAdvertiserDrawer:function(e){this.drawer.ownerId=e.id,this.drawer.ownerName=e.ownerName||"",this.drawer.crmCustomerId=e.crmCustomerId||null,this.drawer.crmCustomerName=e.crmCustomerName||"",this.drawer.visible=!0,this.drawer.boundSelection=[],this.drawer.availableSelection=[],this.drawer.boundPagination.page=1,this.drawer.availablePagination.page=1,this.loadOwnerAdvertisers(),this.loadAvailableAdvertisers()},handleDrawerClose:function(){this.drawer.visible=!1,this.drawer.ownerId=null,this.drawer.ownerName="",this.drawer.crmCustomerId=null,this.drawer.crmCustomerName="",this.drawer.boundAllList=[],this.drawer.boundList=[],this.drawer.boundPagination={page:1,limit:10,total:0},this.drawer.availableAllList=[],this.drawer.availableList=[],this.drawer.availablePagination={page:1,limit:10,total:0},this.drawer.boundSelection=[],this.drawer.availableSelection=[],this.drawer.availableFilters={kw:"",advertiserId:"",limit:200},this.drawer.actionLoading=!1,this.fetchList()},loadOwnerAdvertisers:function(){var e,t=this;this.drawer.ownerId&&(this.drawer.boundLoading=!0,(e=this.drawer.ownerId,Object(o.a)({url:"/adminApi/qc/oe/owner/"+e+"/advertisers",method:"get"})).then(function(e){t.drawer.boundAllList=e.data||[],t.drawer.boundPagination.total=t.drawer.boundAllList.length,t.drawer.boundPagination.page=1,t.applyBoundPagination()}).catch(function(){t.drawer.boundAllList=[],t.drawer.boundList=[],t.drawer.boundPagination.total=0}).finally(function(){t.drawer.boundLoading=!1}))},loadAvailableAdvertisers:function(){var e=this;this.drawer.availableLoading=!0,function(e){return Object(o.a)({url:"/adminApi/qc/oe/owner/availableAdvertisers",method:"get",params:e})}({kw:this.drawer.availableFilters.kw||void 0,advertiserId:this.drawer.availableFilters.advertiserId||void 0,limit:this.normalizeLimit(this.drawer.availableFilters.limit)}).then(function(t){e.drawer.availableAllList=t.data||[],e.drawer.availablePagination.total=e.drawer.availableAllList.length,e.drawer.availablePagination.page=1,e.applyAvailablePagination()}).catch(function(){e.drawer.availableAllList=[],e.drawer.availableList=[],e.drawer.availablePagination.total=0}).finally(function(){e.drawer.availableLoading=!1})},handleAvailableSearch:function(){this.drawer.availableFilters.limit=this.normalizeLimit(this.drawer.availableFilters.limit),this.loadAvailableAdvertisers()},resetAvailableFilters:function(){this.drawer.availableFilters={kw:"",advertiserId:"",limit:200},this.loadAvailableAdvertisers()},handleBoundPageChange:function(e){this.drawer.boundPagination.page=e,this.drawer.boundSelection=[],this.applyBoundPagination()},handleAvailablePageChange:function(e){this.drawer.availablePagination.page=e,this.drawer.availableSelection=[],this.applyAvailablePagination()},applyBoundPagination:function(){var e=this.drawer.boundPagination.page||1,t=this.drawer.boundPagination.limit||10,a=(e-1)*t,i=a+t;this.drawer.boundList=(this.drawer.boundAllList||[]).slice(a,i)},applyAvailablePagination:function(){var e=this.drawer.availablePagination.page||1,t=this.drawer.availablePagination.limit||10,a=(e-1)*t,i=a+t;this.drawer.availableList=(this.drawer.availableAllList||[]).slice(a,i)},handleBoundSelectionChange:function(e){this.drawer.boundSelection=e||[]},handleAvailableSelectionChange:function(e){this.drawer.availableSelection=e||[]},handleBind:function(){if(this.drawer.ownerId&&this.drawer.availableSelection.length){var e=this.drawer.availableSelection.map(function(e){return e.advertiserId});this.executeBind(e,!1)}},executeBind:function(e,t){var a,i=this;this.drawer.actionLoading=!0,(a={ownerId:this.drawer.ownerId,advertiserIds:e,forceMove:t},Object(o.a)({url:"/adminApi/qc/oe/owner/bindAdvertisers",method:"post",data:a,headers:{"Content-Type":"application/json;charset=UTF-8"}})).then(function(){i.$message.success(t?"迁移成功":"绑定成功"),i.drawer.availableSelection=[],i.loadOwnerAdvertisers(),i.loadAvailableAdvertisers()}).catch(function(a){var r=i.parseConflictIds(a);r.length&&!t&&i.$confirm("以下广告主已被其他归属绑定："+r.join(", ")+"，是否强制迁移到当前归属？","提示",{confirmButtonText:"强制迁移",cancelButtonText:"取消",type:"warning"}).then(function(){i.executeBind(e,!0)}).catch(function(){})}).finally(function(){i.drawer.actionLoading=!1})},handleBatchUnbind:function(){if(this.drawer.boundSelection.length){var e=this.drawer.boundSelection.map(function(e){return e.advertiserId});this.confirmUnbind(e)}},handleSingleUnbind:function(e){e&&e.advertiserId&&this.confirmUnbind([e.advertiserId])},confirmUnbind:function(e){var t=this;this.$confirm("确定解绑选中的广告主吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a;t.drawer.actionLoading=!0,(a={ownerId:t.drawer.ownerId,advertiserIds:e},Object(o.a)({url:"/adminApi/qc/oe/owner/unbindAdvertisers",method:"post",data:a,headers:{"Content-Type":"application/json;charset=UTF-8"}})).then(function(){t.$message.success("解绑成功"),t.drawer.boundSelection=[],t.loadOwnerAdvertisers(),t.loadAvailableAdvertisers()}).finally(function(){t.drawer.actionLoading=!1})}).catch(function(){})},normalizeLimit:function(e){var t=Number(e);return isNaN(t)||t<=0?200:Math.min(Math.max(t,1),500)},parseConflictIds:function(e){if(!e)return[];if(e.data&&Array.isArray(e.data.conflictAdvertiserIds))return e.data.conflictAdvertiserIds;var t=(e.msg||e.message||"").match(/\d+/g);return t?l()(new r.a(t)):[]},formatCrmCustomerDisplay:function(e){if(!e)return"";var t=e.crmCustomerId?String(e.crmCustomerId):"",a=(e.crmCustomerName||"").trim();return a&&t?a+"(ID:"+t+")":a||(t?"ID:"+t:"")},formatDrawerSubTitle:function(){var e=(this.drawer.ownerName||"").trim()||"默认归属",t=this.drawer.crmCustomerId?String(this.drawer.crmCustomerId):"-";return"CRM客户："+((this.drawer.crmCustomerName||"").trim()||"-")+"（ID:"+t+"） / 归属名称："+e},getCrmCustomerId:function(e){return e&&(e.customerId||e.crmCustomerId||e.id)||""},getCrmCustomerName:function(e){return e&&(e.customerName||e.crmCustomerName||e.name)||""}}},u=(a("oDHn"),a("KHd+")),m=Object(u.a)(c,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"oe-customer-owner"},[a("el-card",{staticClass:"filter-card",attrs:{shadow:"never"}},[a("div",{staticClass:"filter-bar"},[a("div",{staticClass:"filter-left"},[a("el-input",{staticClass:"filter-item",attrs:{placeholder:"CRM客户名称",clearable:"",size:"small"},on:{clear:e.handleSearch},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.crmCustomerName,callback:function(t){e.$set(e.filters,"crmCustomerName",t)},expression:"filters.crmCustomerName"}}),e._v(" "),a("el-input",{staticClass:"filter-item",attrs:{placeholder:"归属名称",clearable:"",size:"small"},on:{clear:e.handleSearch},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.ownerName,callback:function(t){e.$set(e.filters,"ownerName",t)},expression:"filters.ownerName"}}),e._v(" "),a("el-input",{staticClass:"filter-item",attrs:{placeholder:"广告主ID",clearable:"",size:"small"},on:{clear:e.handleSearch},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.filters.advertiserId,callback:function(t){e.$set(e.filters,"advertiserId",t)},expression:"filters.advertiserId"}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{size:"small",icon:"el-icon-refresh"},on:{click:e.handleReset}},[e._v("重置")])],1),e._v(" "),a("div",{staticClass:"filter-actions"},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.openCreate}},[e._v("新建归属")])],1)])]),e._v(" "),a("el-card",{staticClass:"list-card",attrs:{shadow:"never"}},[a("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[a("div",[e._v("客户归属列表")]),e._v(" "),a("div",{staticClass:"actions"},[a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-refresh"},on:{click:e.handleSearch}},[e._v("刷新")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list,"row-key":"id",border:"",size:"mini"}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60",index:e.indexMethod}}),e._v(" "),a("el-table-column",{attrs:{prop:"ownerName",label:"归属名称","min-width":"140"}}),e._v(" "),a("el-table-column",{attrs:{label:"CRM客户","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.crmCustomerName||t.row.crmCustomerId||"-")+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"advertiserCount",label:"广告主数",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.advertiserCount||0)+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"220",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){e.openEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){e.openAdvertiserDrawer(t.row)}}},[e._v("管理广告主")]),e._v(" "),Number(t.row.advertiserCount||0)>0?a("el-tooltip",{attrs:{content:"请先解绑广告主",placement:"top"}},[a("span",[a("el-button",{attrs:{type:"text",size:"mini",disabled:""}},[e._v("删除")])],1)]):a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"table-footer"},[a("el-pagination",{attrs:{layout:"prev, pager, next, total","current-page":e.pagination.page,"page-size":e.pagination.limit,total:e.pagination.total},on:{"update:currentPage":function(t){e.$set(e.pagination,"page",t)},"current-change":e.handlePageChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialog.visible,"close-on-click-modal":!1,width:"520px"},on:{"update:visible":function(t){e.$set(e.dialog,"visible",t)},close:e.handleDialogClose}},[a("div",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.dialog.form.id?"编辑归属":"新建归属"))]),e._v(" "),a("el-form",{ref:"ownerForm",attrs:{model:e.dialog.form,rules:e.dialog.rules,"label-width":"110px",size:"small"}},[a("el-form-item",{attrs:{label:"归属名称/备注（可选）",prop:"ownerName"}},[a("el-input",{attrs:{placeholder:"可选，不填默认使用客户名"},model:{value:e.dialog.form.ownerName,callback:function(t){e.$set(e.dialog.form,"ownerName",t)},expression:"dialog.form.ownerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"CRM客户",prop:"crmCustomerId"}},[a("el-input",{attrs:{value:e.formatCrmCustomerDisplay(e.dialog.form),readonly:"",placeholder:"请选择CRM客户"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.openCustomerPicker},slot:"append"},[e._v("选择客户")])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialog.visible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",loading:e.dialog.loading},on:{click:e.handleSave}},[e._v("保存")])],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.customerPicker.visible,"close-on-click-modal":!1,width:"860px"},on:{"update:visible":function(t){e.$set(e.customerPicker,"visible",t)},close:e.handleCustomerPickerClose}},[a("div",{attrs:{slot:"title"},slot:"title"},[e._v("选择CRM客户")]),e._v(" "),a("div",{staticClass:"filter-bar compact"},[a("div",{staticClass:"filter-left"},[a("el-input",{staticClass:"filter-item",attrs:{placeholder:"客户名称/关键字",clearable:"",size:"small"},on:{clear:e.handleCustomerPickerSearch},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleCustomerPickerSearch(t):null}},model:{value:e.customerPicker.filters.search,callback:function(t){e.$set(e.customerPicker.filters,"search",t)},expression:"customerPicker.filters.search"}}),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleCustomerPickerSearch}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{size:"small",icon:"el-icon-refresh"},on:{click:e.handleCustomerPickerReset}},[e._v("重置")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.customerPicker.loading,expression:"customerPicker.loading"}],attrs:{data:e.customerPicker.list,border:"",size:"mini","row-key":"customerId"}},[a("el-table-column",{attrs:{prop:"customerId",label:"客户ID",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"customerName",label:"客户名称","min-width":"220","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"是否绑定客户",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row&&!1===t.row.canBindOeOwner?"是":"否")+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"90",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row&&!1===t.row.canBindOeOwner?a("el-tooltip",{attrs:{content:"该客户已绑定归属，不可选择",placement:"top"}},[a("span",[a("el-button",{attrs:{type:"text",size:"mini",disabled:""}},[e._v("选择")])],1)]):a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){e.handlePickCustomer(t.row)}}},[e._v("选择")])]}}])})],1),e._v(" "),a("div",{staticClass:"table-footer"},[a("el-pagination",{attrs:{layout:"prev, pager, next, total","current-page":e.customerPicker.pagination.page,"page-size":e.customerPicker.pagination.limit,total:e.customerPicker.pagination.total},on:{"update:currentPage":function(t){e.$set(e.customerPicker.pagination,"page",t)},"current-change":e.handleCustomerPickerPageChange}})],1)],1),e._v(" "),a("el-drawer",{attrs:{visible:e.drawer.visible,"append-to-body":!1,size:"70%","with-header":!1},on:{"update:visible":function(t){e.$set(e.drawer,"visible",t)},close:e.handleDrawerClose}},[a("div",{staticClass:"drawer-header"},[a("div",{staticClass:"title"},[e._v("管理广告主")]),e._v(" "),a("div",{staticClass:"sub-title"},[e._v(e._s(e.formatDrawerSubTitle()))])]),e._v(" "),a("div",{staticClass:"drawer-section"},[a("div",{staticClass:"section-header"},[a("span",[e._v("已绑定广告主")]),e._v(" "),a("div",{staticClass:"actions"},[a("el-button",{attrs:{type:"danger",size:"mini",disabled:!e.drawer.boundSelection.length,loading:e.drawer.actionLoading},on:{click:e.handleBatchUnbind}},[e._v("批量解绑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-refresh"},on:{click:e.loadOwnerAdvertisers}},[e._v("刷新")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.drawer.boundLoading,expression:"drawer.boundLoading"}],attrs:{data:e.drawer.boundList,border:"",size:"mini","row-key":"advertiserId"},on:{"selection-change":e.handleBoundSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"advertiserId",label:"广告主ID",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"advertiserName",label:"广告主","min-width":"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"advCompanyName",label:"公司","min-width":"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"advertiserStatus",label:"状态",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"90",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){e.handleSingleUnbind(t.row)}}},[e._v("解绑")])]}}])})],1),e._v(" "),a("div",{staticClass:"table-footer"},[a("el-pagination",{attrs:{layout:"prev, pager, next, total","current-page":e.drawer.boundPagination.page,"page-size":e.drawer.boundPagination.limit,total:e.drawer.boundPagination.total},on:{"update:currentPage":function(t){e.$set(e.drawer.boundPagination,"page",t)},"current-change":e.handleBoundPageChange}})],1)],1),e._v(" "),a("div",{staticClass:"drawer-section"},[a("div",{staticClass:"section-header"},[a("span",[e._v("可绑定广告主")]),e._v(" "),a("div",{staticClass:"actions"},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:!e.drawer.availableSelection.length,loading:e.drawer.actionLoading},on:{click:e.handleBind}},[e._v("绑定")])],1)]),e._v(" "),a("div",{staticClass:"filter-bar compact"},[a("div",{staticClass:"filter-left"},[a("el-input",{staticClass:"filter-item",attrs:{placeholder:"广告主名称关键字",clearable:"",size:"small"},on:{clear:e.handleAvailableSearch},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleAvailableSearch(t):null}},model:{value:e.drawer.availableFilters.kw,callback:function(t){e.$set(e.drawer.availableFilters,"kw",t)},expression:"drawer.availableFilters.kw"}}),e._v(" "),a("el-input",{staticClass:"filter-item",attrs:{placeholder:"广告主ID",clearable:"",size:"small"},on:{clear:e.handleAvailableSearch},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleAvailableSearch(t):null}},model:{value:e.drawer.availableFilters.advertiserId,callback:function(t){e.$set(e.drawer.availableFilters,"advertiserId",t)},expression:"drawer.availableFilters.advertiserId"}}),e._v(" "),a("el-input-number",{staticClass:"filter-item narrow",attrs:{min:1,max:500,size:"small"},on:{change:e.handleAvailableSearch},model:{value:e.drawer.availableFilters.limit,callback:function(t){e.$set(e.drawer.availableFilters,"limit",t)},expression:"drawer.availableFilters.limit"}}),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleAvailableSearch}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{size:"small",icon:"el-icon-refresh"},on:{click:e.resetAvailableFilters}},[e._v("重置")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.drawer.availableLoading,expression:"drawer.availableLoading"}],attrs:{data:e.drawer.availableList,border:"",size:"mini","row-key":"advertiserId"},on:{"selection-change":e.handleAvailableSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"advertiserId",label:"广告主ID",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"advertiserName",label:"广告主","min-width":"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"advCompanyName",label:"公司","min-width":"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"advertiserStatus",label:"状态",width:"120"}})],1),e._v(" "),a("div",{staticClass:"table-footer"},[a("el-pagination",{attrs:{layout:"prev, pager, next, total","current-page":e.drawer.availablePagination.page,"page-size":e.drawer.availablePagination.limit,total:e.drawer.availablePagination.total},on:{"update:currentPage":function(t){e.$set(e.drawer.availablePagination,"page",t)},"current-change":e.handleAvailablePageChange}})],1)],1)])],1)},[],!1,null,"70cc04ee",null);m.options.__file="CustomerOwner.vue";t.default=m.exports}}]);